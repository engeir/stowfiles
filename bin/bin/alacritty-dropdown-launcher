#!/usr/bin/env bash
# Dropdown CLI launcher with predefined commands
# Select a command from a list and run it in alacritty-dropdown

# Define your commands here (one per line)
# Format: "description|command"
commands=(
    "Time tracking - Edit|twe edit"
    "Remmina|rtui-dd"
    "Calculator|bc -l"
    "System monitor|htop"
    "Disk usage|ncdu"
)

# Present commands in dmenu (showing only descriptions)
selected=$(printf '%s\n' "${commands[@]}" | cut -d'|' -f1 | dmenu -nb "#2d2d2d" -nf "#7070c2" -sb "#8c8cd0" -sf "#2d2d2d" -l 20 -fn "CaskaydiaMono Nerd Font:size=14" -c -p "Run in dropdown:")

# If user selected something, find the corresponding command and run it
if [ "$selected" != "" ]; then
    for entry in "${commands[@]}"; do
        desc="${entry%%|*}"
        cmd="${entry##*|}"
        if [ "$desc" = "$selected" ]; then
            alacritty-dropdown bash -c "$cmd"
            exit 0
        fi
    done
fi
